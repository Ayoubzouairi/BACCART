/* Base */
* { box-sizing: border-box; }
body.app { margin: 0; font-family: "Cairo", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; background: #0b0f17; color: #e6e8ee; }
.light-mode { background: #fbfbfd !important; color: #0b0f17 !important; }
.light-mode .card { background: #ffffff; box-shadow: 0 1px 2px rgba(0,0,0,.06); }
.light-mode .app-header, .light-mode .app-footer { background: #f5f7fb; color: #0b0f17; }

.app-header { display:flex; align-items:center; justify-content:space-between; padding: 14px 18px; background: #0f1523; border-bottom: 1px solid rgba(255,255,255,.08); position: sticky; top:0; z-index:10;}
.brand .title { font-weight:700; letter-spacing:1px; font-size: 20px; }
.brand .subtitle { font-size: 12px; opacity:.8; margin-inline-start: 8px; }
.controls { display:flex; gap:8px; align-items:center;}
.select { background:#131a2b; color:#e6e8ee; border:1px solid rgba(255,255,255,.1); padding:8px 12px; border-radius:10px;}
.input { background:#131a2b; color:#e6e8ee; border:1px solid rgba(255,255,255,.1); padding:8px 10px; border-radius:10px; width:120px; }
.btn { background:#1a2236; color:#e6e8ee; border:1px solid rgba(255,255,255,.1); padding:8px 12px; border-radius:12px; cursor:pointer; transition:.2s; }
.btn:hover { transform: translateY(-1px); }
.btn-reset { background:#2d1020; border-color:#9a1e54; }
.btn-p { background:#0c2546; border-color:#2c74d4; }
.btn-b { background:#3a0d0d; border-color:#d6403b; }
.btn-t { background:#0c3a2a; border-color:#26a269; }

.container { padding: 18px; max-width: 1200px; margin: 0 auto; }
.card { background:#101728; border:1px solid rgba(255,255,255,.08); border-radius:16px; padding:14px; margin-bottom:14px; }
.card-header { font-weight:600; margin-bottom: 8px; }
.grid-2 { display:grid; grid-template-columns: 1fr 1fr; gap: 14px; }
.roads-3 { display:grid; grid-template-columns: repeat(3, 1fr); gap: 10px; }
@media (max-width: 900px) { .grid-2, .roads-3 { grid-template-columns: 1fr; } }

/* Betting */
.bet-row { display:flex; align-items:center; gap:10px; flex-wrap: wrap; }
.balance-row { display:flex; gap:18px; flex-wrap: wrap; margin-top:8px; }

/* Bars */
.bars .bar-label { display:flex; align-items:center; justify-content:space-between; margin:6px 0 4px; font-size:14px; }
.bars .bar-wrap { width:100%; height: 10px; background:#0f1421; border-radius:999px; overflow:hidden; border:1px solid rgba(255,255,255,.06); }
.prediction-bar { height:100%; width: 1%; transition: width .35s ease; }
.player-bar { background: linear-gradient(90deg, #1e56d1, #2f82ff); }
.banker-bar { background: linear-gradient(90deg, #d63a3a, #ff6b6b); }
.tie-bar { background: linear-gradient(90deg, #1e8d5a, #37d493); }
.high { filter: drop-shadow(0 0 4px rgba(255,255,255,.35)); }

/* Advice */
.ai-advice .prediction-title { font-weight:600; margin-bottom: 6px; }
.recommendation-box { border-radius:12px; padding:10px; margin-top:8px; background:#0e1424; border:1px solid rgba(255,255,255,.08); }
.recommendation-box.P { border-color:#2c74d4; }
.recommendation-box.B { border-color:#d6403b; }
.recommendation-box.T { border-color:#26a269; }
.confidence-meter { position:relative; margin-top:6px; height:10px; background:#0f1421; border:1px solid rgba(255,255,255,.06); border-radius:999px; }
.confidence-bar { position:absolute; top:0; left:0; height:100%; width:0; background:#3279f7; transition:width .35s; }
.confidence-meter span { position:absolute; top:-22px; inset-inline-end:0; font-size:12px; opacity:.85; }
.player-text { color:#2f82ff; } .banker-text { color:#ff6b6b; } .tie-text { color:#37d493; }

/* History & last 5 */
.history { display:flex; flex-wrap: wrap; gap:6px; }
.prediction-value { display:inline-flex; align-items:center; justify-content:center; width:28px; height:28px; border-radius:8px; font-weight:600; border:1px solid rgba(255,255,255,.12); }
.prediction-player { background:#0c2546; color:#cfe3ff; }
.prediction-banker { background:#3a0d0d; color:#ffd2d2; }
.prediction-tie { background:#0c3a2a; color:#cef5e0; }

.last5-grid { display:grid; grid-template-columns: repeat(5, 1fr); gap: 8px; }
.last5-cell { display:flex; align-items:center; justify-content:center; padding:8px 0; border-radius:10px; font-weight:700; border:1px solid rgba(255,255,255,.12); }
.last5-P { background:#0c2546; color:#cfe3ff; }
.last5-B { background:#3a0d0d; color:#ffd2d2; }
.last5-T { background:#0c3a2a; color:#cef5e0; }

/* Trends */
.trend-item { display:flex; align-items:center; justify-content:space-between; padding:6px 10px; border:1px solid rgba(255,255,255,.08); border-radius:10px; margin-bottom:6px; }
.trend-value { font-weight:700; }

/* Big Road & derived roads */
.big-road { display:grid; grid-template-columns: repeat(50, 20px); grid-auto-rows: 20px; gap: 4px; }
.big-road-cell { width:20px; height:20px; display:flex; align-items:center; justify-content:center; border-radius:6px; font-size:12px; border:1px solid rgba(255,255,255,.12); }
.big-road-P { background:#0c2546; color:#cfe3ff; }
.big-road-B { background:#3a0d0d; color:#ffd2d2; }

.roads { display:grid; grid-template-columns: repeat(50, 12px); grid-auto-rows: 12px; gap: 4px; }
.road-cell { width:12px; height:12px; border-radius:50%; border:1px solid rgba(255,255,255,.12); }
.road-P { background:#0c2546; }
.road-B { background:#3a0d0d; }

/* Advanced / Diamond */
.advanced p { margin:4px 0; }

/* Performance report */
.perf-report { display:grid; gap: 10px; }
.metrics { display:grid; grid-template-columns: repeat(2, 1fr); gap:10px; }
.metric { background:#0e1424; border:1px solid rgba(255,255,255,.08); padding:10px; border-radius:12px; }
.metric b { font-size: 18px; }
.table-wrap { overflow:auto; }
.table { border-collapse: collapse; width: 100%; min-width: 400px; }
.table th, .table td { border:1px solid rgba(255,255,255,.12); padding:6px 8px; text-align:center; }
.table th { background:#0f1421; }

/* Footer */
.app-footer { padding: 14px 18px; text-align:center; background:#0f1523; color:#9aa3b2; border-top:1px solid rgba(255,255,255,.08); }

/* Effects */
#effects-container { position:fixed; inset:0; pointer-events:none; }
.high-prob-effect { position:absolute; inset:0; opacity:.0; animation: pulse 1.8s ease forwards; }
.high-prob-player { background: radial-gradient(60% 60% at 50% 50%, rgba(47,130,255,.12), transparent 70%); }
.high-prob-banker { background: radial-gradient(60% 60% at 50% 50%, rgba(255,107,107,.12), transparent 70%); }
.high-prob-tie { background: radial-gradient(60% 60% at 50% 50%, rgba(55,212,147,.12), transparent 70%); }
@keyframes pulse { 0%{opacity:0;} 20%{opacity:.7;} 100%{opacity:0;} }

/* Toasts */
#toast { position: fixed; top: 14px; left: 50%; transform: translateX(-50%); z-index: 20; display:flex; flex-direction:column; gap:8px; }
.toast { padding: 10px 14px; border-radius: 999px; font-weight: 700; border:1px solid rgba(255,255,255,.12); box-shadow: 0 6px 18px rgba(0,0,0,.25); }
.toast-win { background:#0c3a2a; color:#cef5e0; }
.toast-loss { background:#3a0d0d; color:#ffd2d2; }
.toast-push { background:#0f1421; color:#e6e8ee; }

.hint { opacity:.8; font-size:12px; margin-top:6px; }
