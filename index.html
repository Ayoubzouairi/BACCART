<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>BACCARAT PRO</title>
  <link rel="stylesheet" href="style.css">
  <!-- مكتبات -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@3.18.0/dist/tf.min.js"></script>
  <!-- المنطق -->
  <script src="logic.js" defer></script>
</head>
<body>
  <!-- اللغة والثيم -->
  <div class="language-container">
    <select id="langSelect" class="language">
      <option value="ar-MA" selected>العربية</option>
      <option value="en-US">English</option>
    </select>
    <button class="theme-toggle" onclick="toggleTheme()">🌓</button>
  </div>

  <div class="container">
    <h1><span class="logo-b">BACCARAT</span> <span class="logo-s">PRO</span></h1>

    <!-- 🧮 الرصيد والرهان -->
    <div class="result" id="bankrollBox">
      <h3>💰 الرصيد والرهان</h3>
      <div class="bankroll-controls" style="display:flex; gap:10px; flex-wrap:wrap; justify-content:center;">
        <label for="balanceInput" style="align-self:center;">الرصيد:</label>
        <input id="balanceInput" type="number" min="0" step="0.01" placeholder="مثلاً 1000" style="padding:8px; border-radius:8px; width:130px;">
        <button class="reset" onclick="setBalance()">تحديث الرصيد</button>

        <span id="liveBalance" style="font-weight:bold; align-self:center;">—</span>
      </div>

      <div class="bet-controls" style="margin-top:10px;">
        <div style="display:flex; gap:10px; flex-wrap:wrap; justify-content:center;">
          <label for="betAmount" style="align-self:center;">مبلغ الرهان:</label>
          <input id="betAmount" type="number" min="0" step="0.01" placeholder="مثلاً 50" style="padding:8px; border-radius:8px; width:130px;">
          <button class="player" onclick="selectBet('P')">رهان: 🔵 لاعب</button>
          <button class="banker" onclick="selectBet('B')">رهان: 🔴 مصرفي</button>
          <button class="tie" onclick="selectBet('T')">رهان: 🟢 تعادل</button>
        </div>
        <div id="currentBet" style="margin-top:8px; font-weight:bold;">لا يوجد رهان محدد</div>
        <p style="margin-top:8px; opacity:0.8;">
          نسب الحساب: Player 1:1 — Banker 0.95:1 — Tie 0:0 (التعادل ما كيبدّلش الرصيد)
        </p>
      </div>
    </div>

    <p>📲 اختر نتيجة الجولة:</p>
    <div class="buttons">
      <button class="player" onclick="addResult('P')">🔵 اللاعب</button>
      <button class="banker" onclick="addResult('B')">🔴 المصرفي</button>
      <button class="tie" onclick="addResult('T')">🟢 تعادل</button>
      <button class="reset" onclick="resetData()">🔄 إعادة تعيين (يحتفظ بالرصيد)</button>
    </div>

    <!-- 📊 تنبؤات -->
    <div class="prediction-section">
      <div id="predictionResult">
        <div class="prediction-title">📊 تنبؤات متقدمة</div>
        <div id="predictionBars" class="prediction-bars">
          <div class="prediction-bar player-bar" style="width:33%">P</div>
          <div class="prediction-bar banker-bar" style="width:34%">B</div>
          <div class="prediction-bar tie-bar" style="width:33%">T</div>
        </div>
        <div class="probability-display">
          <div class="probability-item">
            <span class="player-text">لاعب</span>
            <span id="playerProb" class="probability-value player-text">33%</span>
          </div>
          <div class="probability-item">
            <span class="banker-text">مصرفي</span>
            <span id="bankerProb" class="probability-value banker-text">34%</span>
          </div>
          <div class="probability-item">
            <span class="tie-text">تعادل</span>
            <span id="tieProb" class="probability-value tie-text">33%</span>
          </div>
        </div>
      </div>
    </div>

    <!-- 🛠 النماذج -->
    <div class="advanced-prediction">
      <h3>🛠 التنبؤات المتقدمة</h3>
      <div id="advancedPredictionResults"></div>
      <div class="model-controls">
        <button onclick="toggleAdvancedModel()">تبديل النموذج المتقدم</button>
        <span id="modelStatus">النموذج الأساسي (ماركوف)</span>
      </div>
    </div>

    <!-- 💎 الدايموند -->
    <div class="diamond-pattern">
      <h3>💎 تحليل نمط الدايموند</h3>
      <div id="diamondAnalysis"></div>
    </div>

    <!-- 📈 ملخص -->
    <div class="result">
      <div id="statsResult"></div>
    </div>

    <div class="stats">
      <div id="aiStats"></div>
    </div>

    <div class="history">
      <div id="historyDisplay"></div>
    </div>

    <div class="ai-advice">
      <div id="aiAdvice"></div>
    </div>

    <div class="trends-container">
      <div id="trendsContent"></div>
    </div>

    <div class="recommendation-container">
      <div id="recommendation"></div>
    </div>

    <!-- الطرق -->
    <div class="big-road-container">
      <h2>Big Road (الميجورك)</h2>
      <div class="big-road" id="bigRoad"></div>
    </div>

    <div class="derivative-roads">
      <div class="road-container">
        <h3>Big Eye Road</h3>
        <div class="road" id="bigEyeRoad"></div>
      </div>
      <div class="road-container">
        <h3>Small Road</h3>
        <div class="road" id="smallRoad"></div>
      </div>
      <div class="road-container">
        <h3>Cockroach Road</h3>
        <div class="road" id="cockroachRoad"></div>
      </div>
    </div>

    <!-- الرسم البياني -->
    <div class="chart-container">
      <canvas id="statsChart"></canvas>
    </div>

    <!-- آخر 5 -->
    <div class="last5-analysis">
      <h3>تحليل آخر 5 جولات</h3>
      <div id="last5Results"></div>
    </div>

    <!-- الأنماط الشائعة -->
    <div class="common-patterns">
      <h3>الأنماط الشائعة في الكازينو</h3>
      <div id="casinoPatterns"></div>
    </div>

    <!-- أداء النماذج -->
    <div class="performance-analysis">
      <h3>تحليل أداء النماذج</h3>
      <div id="modelPerformance"></div>
    </div>
  </div>

  <!-- إشعارات وتأثيرات -->
  <div class="notification-container" id="notificationContainer"></div>
  <div id="effects-container"></div>
</body>
</html>
