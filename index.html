<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>تحليل المباريات - WDL + أهداف + Under/Over</title>
<style>
body { font-family: Arial; text-align: center; background: #f5f5f5; padding: 20px; }
input { width: 140px; padding: 6px; margin: 5px; }
button { padding: 8px 15px; margin-left: 5px; cursor: pointer; background-color: #f1c40f; border: none; }
table { margin: 20px auto; border-collapse: collapse; width: 95%; background: #fff; box-shadow: 0 0 10px rgba(0,0,0,0.1); }
th, td { padding: 10px; border: 1px solid #ddd; text-align: center; }
th { background: #f39c12; color: #000; }
</style>
</head>
<body>

<h1>تحليل المباريات - WDL + أهداف + Under/Over</h1>

<div>
<input id="team1Name" placeholder="اسم الفريق الأول">
<input id="team2Name" placeholder="اسم الفريق الثاني">
</div>

<h3>آخر 5 نتائج لكل فريق (W/D/L)</h3>
<input id="team1Results" placeholder="مثال: W D L W W">
<input id="team2Results" placeholder="مثال: L D W L D">

<h3>عدد أهداف كل مباراة لكل فريق (5 مباريات)</h3>
<input id="team1Goals" placeholder="مثال: 2 1 0 3 1">
<input id="team2Goals" placeholder="مثال: 1 1 2 0 0">

<button onclick="analyzeMatch()">احسب التحليل</button>

<h2>النتائج</h2>
<table>
<thead>
<tr>
<th>الفريق الأول</th>
<th>الفريق الثاني</th>
<th>% فوز الفريق الأول</th>
<th>% فوز الفريق الثاني</th>
<th>% التعادل</th>
<th>معدل الأهداف</th>
<th>Under/Over 2.5</th>
</tr>
</thead>
<tbody>
<tr>
<td id="resTeam1">-</td>
<td id="resTeam2">-</td>
<td id="resTeam1Percent">-</td>
<td id="resTeam2Percent">-</td>
<td id="resDraw">-</td>
<td id="resGoals">-</td>
<td id="resOverUnder">-</td>
</tr>
</tbody>
</table>

<script>
function analyzeMatch(){
  const t1 = document.getElementById('team1Name').value || 'الفريق الأول';
  const t2 = document.getElementById('team2Name').value || 'الفريق الثاني';

  // نتائج W/D/L
  const r1 = (document.getElementById('team1Results').value || '').toUpperCase().split(' ');
  const r2 = (document.getElementById('team2Results').value || '').toUpperCase().split(' ');

  // أهداف كل مباراة
  const g1 = (document.getElementById('team1Goals').value || '').split(' ').map(Number);
  const g2 = (document.getElementById('team2Goals').value || '').split(' ').map(Number);

  if(r1.length!==5 || r2.length!==5 || g1.length!==5 || g2.length!==5){
    alert('خاص تدخل 5 نتائج و5 أعداد أهداف لكل فريق');
    return;
  }
  if(g1.some(isNaN) || g2.some(isNaN)){
    alert('دخل أرقام صحيحة لأهداف كل مباراة');
    return;
  }

  // حساب نسب الفوز والتعادل بناءً على W/D/L
  function calcPercent(results){
    let w=0,d=0;
    for(let r of results){
      if(r==='W') w++;
      else if(r==='D') d++;
    }
    return {win: Math.round(w/5*100), draw: Math.round(d/5*100)};
  }

  const data1 = calcPercent(r1);
  const data2 = calcPercent(r2);
  const drawPercent = Math.round((data1.draw + data2.draw)/2);

  // معدل الأهداف لكل الفريقين
  const avgGoals1 = g1.reduce((a,b)=>a+b,0)/5;
  const avgGoals2 = g2.reduce((a,b)=>a+b,0)/5;
  const totalAvg = avgGoals1 + avgGoals2;

  // Under/Over 2.5
  const overUnder = totalAvg >= 2.5 ? 'Over 2.5' : 'Under 2.5';

  // عرض النتائج
  document.getElementById('resTeam1').innerText = t1;
  document.getElementById('resTeam2').innerText = t2;
  document.getElementById('resTeam1Percent').innerText = data1.win + '%';
  document.getElementById('resTeam2Percent').innerText = data2.win + '%';
  document.getElementById('resDraw').innerText = drawPercent + '%';
  document.getElementById('resGoals').innerText = totalAvg.toFixed(1);
  document.getElementById('resOverUnder').innerText = overUnder;
}
</script>

</body>
</html>
