<!doctype html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>AYOUB BACCARAT PRO ULTIMATE</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap');
:root {
  --gold: #d4af37; --gold-2: #b8871d; --bg-dark: #070606; --card: #0f0e10; 
  --muted: #bfb7a6; --player: #2d7ef7; --banker: #e03b3b; --tie: #28a745;
  --blue-bead: #3a86ff; --red-bead: #ff006e;
}
:root[data-theme="light"] {
  --gold: #d4af37; --gold-2: #b8871d; --bg-dark: #f5f5f5; --card: #ffffff; 
  --muted: #666666; --player: #2d7ef7; --banker: #e03b3b; --tie: #28a745;
  --blue-bead: #3a86ff; --red-bead: #ff006e;
}
* { box-sizing: border-box; margin: 0; padding: 0; }
body {
  font-family: Inter, sans-serif;
  background: linear-gradient(180deg, var(--bg-dark), #0b0b0b);
  color: #fff;
  padding: 18px;
  transition: background 0.3s, color 0.3s;
  min-height: 100vh;
}
:root[data-theme="light"] body { color: #333; }
.app { max-width: 1400px; margin: 0 auto; }
.top { display: flex; align-items: center; justify-content: space-between; gap: 12px; margin-bottom: 14px; }
.logo {
  font-weight: 800;
  background: linear-gradient(90deg, var(--gold), #fff3b0);
  color: #000;
  padding: 8px 12px;
  border-radius: 12px;
  display: inline-block;
}
.subtitle { font-size: 14px; color: var(--muted); margin-top: 4px; }
.controls { display: flex; gap: 8px; align-items: center; }
.card {
  background: linear-gradient(180deg, var(--card), #0b0b0b);
  border-radius: 12px;
  padding: 12px;
  box-shadow: 0 8px 30px rgba(0,0,0,0.6);
  border: 1px solid rgba(212,175,55,0.08);
}
:root[data-theme="light"] .card {
  background: linear-gradient(180deg, var(--card), #f0f0f0);
  box-shadow: 0 8px 30px rgba(0,0,0,0.1);
  border: 1px solid rgba(0,0,0,0.05);
}
.layout { display: flex; gap: 12px; }
.left { width: 380px; display: flex; flex-direction: column; gap: 10px; }
.right { flex: 1; display: flex; flex-direction: column; gap: 12px; }
.panel { padding: 10px; }
.row { display: flex; gap: 8px; align-items: center; margin-top: 8px; }
input[type=number], select {
  background: rgba(255,255,255,0.1);
  border: 2px solid rgba(255,255,255,0.3);
  padding: 10px;
  border-radius: 8px;
  color: #fff;
  font-weight: 600;
  font-size: 14px;
  width: 100%;
}
:root[data-theme="light"] input[type=number], :root[data-theme="light"] select {
  background: rgba(255,255,255,0.9);
  border: 2px solid rgba(0,0,0,0.2);
  color: #333;
}
.btn {
  padding: 12px 16px;
  border-radius: 8px;
  border: 0;
  color: #fff;
  cursor: pointer;
  font-weight: 600;
  font-size: 16px;
  transition: all 0.3s;
}
.btn:hover { transform: translateY(-2px); box-shadow: 0 4px 12px rgba(0,0,0,0.3); }
.btn.gold {
  background: linear-gradient(90deg, var(--gold), var(--gold-2));
  color: #000;
  font-weight: 700;
  box-shadow: 0 6px 20px rgba(212,175,55,0.3);
}
.btn.player { background: linear-gradient(135deg, #3a86ff, #2667cc); color: white; border: 2px solid #3a86ff; }
.btn.banker { background: linear-gradient(135deg, #ff006e, #cc0058); color: white; border: 2px solid #ff006e; }
.btn.tie { background: linear-gradient(135deg, #38b000, #2c8a00); color: white; border: 2px solid #38b000; }
:root[data-theme="light"] .btn.player { background: linear-gradient(135deg, #2d7ef7, #1a67d8); color: white; }
:root[data-theme="light"] .btn.banker { background: linear-gradient(135deg, #e03b3b, #c53232); color: white; }
:root[data-theme="light"] .btn.tie { background: linear-gradient(135deg, #28a745, #218838); color: white; }
:root[data-theme="light"] .btn { background: rgba(0,0,0,0.1); color: #333; border: 1px solid rgba(0,0,0,0.1); }
.small { font-size: 13px; color: var(--muted); }
.muted { color: var(--muted); font-size: 12px; }
.pattern-list { list-style: none; padding: 6px; margin: 6px 0 0 0; max-height: 200px; overflow: auto; }
.pattern-list li {
  padding: 8px;
  border-radius: 8px;
  margin-bottom: 6px;
  background: linear-gradient(180deg, rgba(255,255,255,0.02), transparent);
  display: flex;
  justify-content: space-between;
  align-items: center;
}
:root[data-theme="light"] .pattern-list li { background: linear-gradient(180deg, rgba(0,0,0,0.02), transparent); }
.section-title { font-weight: 700; margin-bottom: 6px; color: var(--gold); }
.stat-table { width: 100%; border-collapse: collapse; }
.stat-table th, .stat-table td { border: 1px solid rgba(255,255,255,0.05); padding: 6px; text-align: center; }
:root[data-theme="light"] .stat-table th, :root[data-theme="light"] .stat-table td { border: 1px solid rgba(0,0,0,0.05); }
.stat-table th { background: rgba(212,175,55,0.1); font-weight: 600; }
.player { color: #3a86ff; font-weight: 700; }
.banker { color: #ff006e; font-weight: 700; }
.tie { color: #38b000; font-weight: 700; }
.pred-head { display: flex; justify-content: space-between; align-items: center; }
.final {
  font-size: 22px;
  font-weight: 800;
  text-align: center;
  padding: 12px;
  background: linear-gradient(90deg, rgba(212,175,55,0.06), transparent);
  border-radius: 10px;
}
:root[data-theme="light"] .final { background: linear-gradient(90deg, rgba(212,175,55,0.1), transparent); }
.foot { display: flex; justify-content: space-between; align-items: center; margin-top: 14px; }
.credits { opacity: 0.85; }
canvas { border-radius: 10px; background: #0f0e10; }
:root[data-theme="light"] canvas { background: #f0f0f0; }
.color-legend { display: flex; gap: 15px; justify-content: center; margin-bottom: 10px; font-size: 14px; }
.color-legend span { padding: 4px 8px; border-radius: 6px; font-weight: 600; }
.prediction-cards { display: flex; gap: 10px; justify-content: center; margin: 10px 0; }
.pred-card { padding: 10px; border-radius: 8px; text-align: center; min-width: 80px; font-weight: 600; }
.pred-card.active { transform: scale(1.1); border: 2px solid var(--gold); box-shadow: 0 4px 15px rgba(212,175,55,0.4); }
.win-effect { animation: winPulse 0.5s ease-in-out; }
.loss-effect { animation: lossShake 0.5s ease-in-out; }
@keyframes winPulse { 0% { transform: scale(1); } 50% { transform: scale(1.2); } 100% { transform: scale(1); } }
@keyframes lossShake { 0%,100% { transform: translateX(0); } 25% { transform: translateX(-5px); } 75% { transform: translateX(5px); } }
.analysis-result { margin-top: 10px; padding: 10px; background: rgba(255,255,255,0.03); border-radius: 8px; text-align: center; }
:root[data-theme="light"] .analysis-result { background: rgba(0,0,0,0.03); }
.theme-toggle { background: transparent; border: none; font-size: 24px; cursor: pointer; padding: 5px; border-radius: 50%; transition: background 0.3s; }
.theme-toggle:hover { background: rgba(255,255,255,0.1); }
:root[data-theme="light"] .theme-toggle:hover { background: rgba(0,0,0,0.05); }
.input-group { display: flex; gap: 8px; align-items: center; }
.input-group input { flex: 1; }
.input-label { font-weight: 600; margin-bottom: 6px; display: block; }
.pred-card.player { background: linear-gradient(135deg, #3a86ff, #2667cc); color: white; }
.pred-card.banker { background: linear-gradient(135deg, #ff006e, #cc0058); color: white; }
.pred-card.tie { background: linear-gradient(135deg, #38b000, #2c8a00); color: white; }
.accuracy-panel { margin-top: 12px; }
.accuracy-stats { display: flex; justify-content: space-between; margin-bottom: 8px; }
.accuracy-value { font-weight: 700; font-size: 18px; }
.accuracy-label { font-size: 12px; color: var(--muted); }
.accuracy-chart-container { position: relative; height: 80px; margin-top: 8px; }
.accuracy-line { stroke: var(--gold); stroke-width: 2; fill: none; }
.accuracy-point { fill: var(--gold); r: 3; transition: r 0.2s; }
.accuracy-point:hover { r: 5; }
.accuracy-grid { stroke: rgba(255,255,255,0.1); stroke-width: 1; }
:root[data-theme="light"] .accuracy-grid { stroke: rgba(0,0,0,0.1); }
.accuracy-tooltip {
  position: absolute;
  background: rgba(0,0,0,0.8);
  color: white;
  padding: 5px 8px;
  border-radius: 4px;
  font-size: 12px;
  pointer-events: none;
  opacity: 0;
  transition: opacity 0.2s;
}

/* Ø£Ù†Ù…Ø§Ø· Bead Road */
.bead-road-container { margin-top: 15px; }
.bead-road-title { font-weight: 600; margin-bottom: 8px; color: var(--gold); font-size: 14px; }
.bead-road { display: flex; flex-direction: column; gap: 2px; margin-bottom: 15px; }
.bead-row { display: flex; gap: 2px; }
.bead-cell {
  width: 22px;
  height: 22px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 10px;
  font-weight: bold;
}
.bead-cell.blue { background: var(--blue-bead); color: white; }
.bead-cell.red { background: var(--red-bead); color: white; }
.bead-cell.empty { background: rgba(255,255,255,0.05); }
:root[data-theme="light"] .bead-cell.empty { background: rgba(0,0,0,0.05); }
.bead-roads-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }

/* ØªØ­Ø³ÙŠÙ†Ø§Øª Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø°ÙƒÙŠ */
.improvement-panel {
  margin-top: 15px;
  padding: 12px;
  background: rgba(212,175,55,0.05);
  border-radius: 8px;
  border-left: 4px solid var(--gold);
}
.confidence-meter { display: flex; align-items: center; gap: 10px; margin: 8px 0; }
.confidence-bar { flex: 1; height: 8px; background: rgba(255,255,255,0.1); border-radius: 4px; overflow: hidden; }
.confidence-fill {
  height: 100%;
  background: linear-gradient(90deg, #ff006e, #ff8c00, #38b000);
  border-radius: 4px;
  transition: width 0.5s;
}
.confidence-text { font-size: 12px; font-weight: 600; }
.risk-indicator {
  padding: 6px 10px;
  border-radius: 6px;
  font-size: 12px;
  font-weight: 600;
  text-align: center;
  margin-top: 5px;
}
.risk-low { background: rgba(56, 176, 0, 0.2); color: #38b000; border: 1px solid #38b000; }
.risk-medium { background: rgba(255, 140, 0, 0.2); color: #ff8c00; border: 1px solid #ff8c00; }
.risk-high { background: rgba(255, 0, 110, 0.2); color: #ff006e; border: 1px solid #ff006e; }
.suggestion-box {
  background: rgba(59, 130, 246, 0.1);
  padding: 10px;
  border-radius: 8px;
  margin-top: 10px;
  border: 1px solid #3b82f6;
}
.suggestion-title { font-weight: 600; color: #3b82f6; margin-bottom: 5px; }
.adaptive-controls { display: flex; gap: 10px; margin-top: 10px; }
.adaptive-btn {
  padding: 8px 12px;
  border-radius: 6px;
  border: none;
  font-size: 12px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s;
}
.adaptive-btn.auto { background: rgba(56, 176, 0, 0.2); color: #38b000; border: 1px solid #38b000; }
.adaptive-btn.manual { background: rgba(59, 130, 246, 0.2); color: #3b82f6; border: 1px solid #3b82f6; }
.adaptive-btn:hover { transform: translateY(-2px); }
.pred-confidence { font-size: 11px; margin-top: 4px; opacity: 0.8; }

/* ØªØ­Ø³ÙŠÙ†Ø§Øª Ù„Ù„Ø´Ø§Ø´Ø§Øª Ø§Ù„ØµØºÙŠØ±Ø© */
@media (max-width: 768px) {
  .layout { flex-direction: column; }
  .left { width: 100%; }
  .bead-roads-grid { grid-template-columns: 1fr; }
  .prediction-cards { flex-direction: column; }
  .adaptive-controls { flex-direction: column; }
}

/* Ø£Ù†ÙŠÙ…ÙŠØ´Ù† Ù„Ù„Ø±Ø³Ø§Ø¦Ù„ */
@keyframes fadeInOut {
  0% { opacity: 0; transform: translateY(-20px); }
  20% { opacity: 1; transform: translateY(0); }
  80% { opacity: 1; transform: translateY(0); }
  100% { opacity: 0; transform: translateY(-20px); }
}
</style>
</head>
<body>
<div class="app">
<header class="top card">
  <div class="brand">
    <div class="logo">AYOUB BACCARAT PRO ULTIMATE</div>
    <div class="subtitle">Ù†Ø¸Ø§Ù… Ø°ÙƒÙŠ Ù…ØªÙƒØ§Ù…Ù„ ÙŠØ¹ØªÙ…Ø¯ Ø¹Ù„Ù‰ ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø£Ù†Ù…Ø§Ø· Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø© ğŸ§ ğŸ¯</div>
  </div>
  <div class="controls">
    <button id="themeToggle" class="theme-toggle">ğŸŒš</button>
    <button id="btnReset" class="btn gold">Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ†</button>
  </div>
</header>

<main class="card layout">
<aside class="left">
  <div class="panel card">
    <label class="input-label">Ù†Ø§ÙØ°Ø© Ø§Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø°ÙƒÙŠØ© (3 - 15)</label>
    <div class="input-group">
      <input id="windowSize" type="number" min="3" max="15" value="7">
      <button id="applyWindow" class="btn gold">ØªØ·Ø¨ÙŠÙ‚</button>
    </div>
    <div class="muted small">ÙŠØªÙƒÙŠÙ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ù…Ø¹ Ø§Ø³ØªÙ‚Ø±Ø§Ø± Ø§Ù„Ø£Ù†Ù…Ø§Ø·</div>
    
    <div class="adaptive-controls">
      <button id="btnAutoAdjust" class="adaptive-btn auto">Ø§Ù„ØªÙƒÙŠÙ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ</button>
      <button id="btnManualMode" class="adaptive-btn manual">Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„ÙŠØ¯ÙˆÙŠ</button>
    </div>
  </div>

  <div class="panel card">
    <div class="section-title">Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ù†ØªØ§Ø¦Ø¬</div>
    <div class="row">
      <button class="btn player" id="btnP">Ù„Ø§Ø¹Ø¨ ğŸ”µ</button>
      <button class="btn banker" id="btnB">Ù…ØµØ±ÙÙŠ ğŸ”´</button>
      <button class="btn tie" id="btnT">ØªØ¹Ø§Ø¯Ù„ ğŸŸ¢</button>
    </div>
    <div class="row">
      <button class="btn" id="btnUndo" style="flex:1; background:rgba(255,255,255,0.1); border:1px solid rgba(255,255,255,0.2)">ØªØ±Ø§Ø¬Ø¹</button>
    </div>
  </div>

  <div class="panel card patterns">
    <div class="section-title">Ø§Ù„Ø£Ù†Ù…Ø§Ø· Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©</div>
    <ul id="patternList" class="pattern-list">
      <li>ØªØªØ§Ø¨Ø¹: <span>0</span></li>
      <li>ØªØ¨Ø§Ø¯Ù„: <span>0</span></li>
      <li>Ø§Ø²Ø¯ÙˆØ§Ø¬: <span>0</span></li>
      <li>Ø§Ø³ØªÙ‚Ø±Ø§Ø±: <span>0%</span></li>
    </ul>
  </div>

  <div class="panel card stats">
    <div class="section-title">Ø§Ù„Ø¥Ø­ØµØ§Ø¡Ø§Øª Ø§Ù„Ø°ÙƒÙŠØ©</div>
    <table class="stat-table">
      <thead>
        <tr><th>Ø§Ù„Ø¬Ù‡Ø©</th><th>Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹</th><th>ÙÙˆØ²</th><th>Ø®Ø³Ø§Ø±Ø©</th><th>Ù†Ø³Ø¨Ø© %</th><th>Ø«Ù‚Ø©</th></tr>
      </thead>
      <tbody>
        <tr><td class="player">Ù„Ø§Ø¹Ø¨</td><td id="pTotal">0</td><td id="pWin">0</td><td id="pLoss">0</td><td id="pPct">0%</td><td id="pConf">-</td></tr>
        <tr><td class="banker">Ù…ØµØ±ÙÙŠ</td><td id="bTotal">0</td><td id="bWin">0</td><td id="bLoss">0</td><td id="bPct">0%</td><td id="bConf">-</td></tr>
        <tr><td class="tie">ØªØ¹Ø§Ø¯Ù„</td><td id="tTotal">0</td><td id="tWin">0</td><td id="tLoss">0</td><td id="tPct">0%</td><td id="tConf">-</td></tr>
      </tbody>
    </table>
  </div>
</aside>

<section class="right card prediction">
  <div class="pred-head">
    <div class="pred-title">Ø§Ù„ØªÙˆÙ‚Ø¹ Ø§Ù„Ø°ÙƒÙŠ Ù„Ù„Ø¬ÙˆÙ„Ø© Ø§Ù„Ù‚Ø§Ø¯Ù…Ø©</div>
    <div class="pred-sub">Ù†Ø¸Ø§Ù… Ù…ØªÙƒÙŠÙ ÙŠØªØ¹Ù„Ù… Ù…Ù† Ø§Ù„Ø£Ù†Ù…Ø§Ø· Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©</div>
  </div>

  <div class="color-legend">
    <span style="background:linear-gradient(135deg, #3a86ff, #2667cc);">ğŸ”µ Ù„Ø§Ø¹Ø¨</span>
    <span style="background:linear-gradient(135deg, #ff006e, #cc0058);">ğŸ”´ Ù…ØµØ±ÙÙŠ</span>
    <span style="background:linear-gradient(135deg, #38b000, #2c8a00);">ğŸŸ¢ ØªØ¹Ø§Ø¯Ù„</span>
  </div>
  
  <canvas id="bigRoad" width="600" height="450"></canvas>

  <div class="prediction-cards">
    <div class="pred-card player" id="predP">
      <div>Ù„Ø§Ø¹Ø¨</div>
      <div id="predPctP">0%</div>
      <div class="pred-confidence" id="predConfP">Ø«Ù‚Ø©: -</div>
    </div>
    <div class="pred-card banker" id="predB">
      <div>Ù…ØµØ±ÙÙŠ</div>
      <div id="predPctB">0%</div>
      <div class="pred-confidence" id="predConfB">Ø«Ù‚Ø©: -</div>
    </div>
    <div class="pred-card tie" id="predT">
      <div>ØªØ¹Ø§Ø¯Ù„</div>
      <div id="predPctT">0%</div>
      <div class="pred-confidence" id="predConfT">Ø«Ù‚Ø©: -</div>
    </div>
  </div>

  <div class="analysis-result">
    <div class="muted">Ø§Ù„ØªÙˆÙ‚Ø¹ Ø§Ù„Ø­Ø§Ù„ÙŠ:</div>
    <div class="final" id="finalCard">â€”</div>
    <div class="confidence-meter">
      <span class="muted">Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø«Ù‚Ø©:</span>
      <div class="confidence-bar">
        <div class="confidence-fill" id="confidenceFill" style="width: 0%"></div>
      </div>
      <span class="confidence-text" id="confidenceText">0%</span>
    </div>
    <div id="riskIndicator" class="risk-indicator risk-low">Ù…Ø®Ø§Ø·Ø±Ø© Ù…Ù†Ø®ÙØ¶Ø©</div>
  </div>

  <!-- Ù„ÙˆØ­Ø© Bead Road -->
  <div class="panel card bead-road-container">
    <div class="section-title">Bead Road Charts - ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø£Ù†Ù…Ø§Ø· Ø§Ù„Ù…ØªÙ‚Ø¯Ù…</div>
    <div class="bead-roads-grid">
      <div>
        <div class="bead-road-title">Big Eye Boy (Ø§Ù„Ø¹ÙŠÙ† Ø§Ù„ÙƒØ¨ÙŠØ±Ø©)</div>
        <div id="bigEyeBoy" class="bead-road"></div>
      </div>
      <div>
        <div class="bead-road-title">Small Road (Ø§Ù„Ø·Ø±ÙŠÙ‚ Ø§Ù„ØµØºÙŠØ±)</div>
        <div id="smallRoad" class="bead-road"></div>
      </div>
      <div>
        <div class="bead-road-title">Cockroach Pig (ØµØ±ØµÙˆØ± Ø§Ù„Ø®Ù†Ø²ÙŠØ±)</div>
        <div id="cockroachPig" class="bead-road"></div>
      </div>
    </div>
    <div class="muted small">ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø£Ù†Ù…Ø§Ø· Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø© Ù„Ù„ØªÙ†Ø¨Ø¤ Ø¨Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ù…Ø³ØªÙ‚Ø¨Ù„ÙŠØ©</div>
  </div>

  <!-- Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­Ø³ÙŠÙ†Ø§Øª -->
  <div class="improvement-panel">
    <div class="section-title">Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ¹Ù„Ù… Ù…Ù† Ø§Ù„Ø£Ø®Ø·Ø§Ø¡</div>
    <div class="suggestion-box">
      <div class="suggestion-title">ğŸ’¡ Ø§Ù‚ØªØ±Ø§Ø­ Ø°ÙƒÙŠ:</div>
      <div id="aiSuggestion">Ø£Ø¯Ø®Ù„ Ø§Ù„Ù…Ø²ÙŠØ¯ Ù…Ù† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù„ØªØ­Ø³ÙŠÙ† Ø§Ù„ØªÙˆÙ‚Ø¹Ø§Øª</div>
    </div>
    <div class="row">
      <div class="muted small">Ù…Ø¹Ø¯Ù„ Ø§Ù„ØªØ¹Ù„Ù…:</div>
      <div class="muted small" id="learningRate">0%</div>
    </div>
    <div class="row">
      <div class="muted small">Ù†Ù…Ø· Ø§Ù„Ø£Ø®Ø·Ø§Ø¡:</div>
      <div class="muted small" id="mistakePattern">ØºÙŠØ± Ù…Ø­Ø¯Ø¯</div>
    </div>
  </div>

  <!-- Ù…Ù†Ø­Ù†Ù‰ Ø§Ù„ØªÙˆÙ‚Ø¹Ø§Øª -->
  <div class="panel card accuracy-panel">
    <div class="section-title">Ù…Ù†Ø­Ù†Ù‰ Ø¯Ù‚Ø© Ø§Ù„ØªÙˆÙ‚Ø¹Ø§Øª</div>
    <div class="accuracy-stats">
      <div>
        <div class="accuracy-label">Ø§Ù„Ø¯Ù‚Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©</div>
        <div class="accuracy-value" id="currentAccuracy">0%</div>
      </div>
      <div>
        <div class="accuracy-label">Ø£ÙØ¶Ù„ Ø¯Ù‚Ø©</div>
        <div class="accuracy-value" id="bestAccuracy">0%</div>
      </div>
      <div>
        <div class="accuracy-label">Ù…ØªÙˆØ³Ø· Ø§Ù„Ø¯Ù‚Ø©</div>
        <div class="accuracy-value" id="averageAccuracy">0%</div>
      </div>
    </div>
    <div class="accuracy-chart-container">
      <svg id="accuracyChart" width="100%" height="100%"></svg>
      <div id="accuracyTooltip" class="accuracy-tooltip"></div>
    </div>
    <div class="muted small">ØªØªØ¨Ø¹ Ø¯Ù‚Ø© ØªÙˆÙ‚Ø¹Ø§ØªÙƒ Ù…Ø¹ Ù…Ø±ÙˆØ± Ø§Ù„ÙˆÙ‚Øª</div>
  </div>
</section>
</main>

<footer class="foot card">
<div>ØªØµÙ…ÙŠÙ…: Ayoub â€¢ Ù†Ø¸Ø§Ù… Baccarat Ù…ØªÙƒØ§Ù…Ù„</div>
<div class="credits small">Ù†Ø§ÙØ°Ø© Ø°ÙƒÙŠØ© â€¢ Ø®ÙˆØ§Ø±Ø²Ù…ÙŠØ§Øª Ù…ØªÙ‚Ø¯Ù…Ø© â€¢ Bead Road â€¢ ØªØ¹Ù„Ù… Ø¢Ù„ÙŠ â€¢ ÙˆØ§Ø¬Ù‡Ø© Ø¹Ø±Ø¨ÙŠØ©</div>
</footer>

<script>
// State ÙƒØ§Ù…Ù„ Ù…Ø¹ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…ÙŠØ²Ø§Øª
const state = {
  rounds: [],
  windowSize: 7,
  adaptiveWindow: true,
  count: { P: 0, B: 0, T: 0 },
  win: { P: 0, B: 0, T: 0 },
  loss: { P: 0, B: 0, T: 0 },
  lastPrediction: null,
  patterns: {
    ØªØªØ§Ø¨Ø¹: 0,
    ØªØ¨Ø§Ø¯Ù„: 0,
    Ø§Ø²Ø¯ÙˆØ§Ø¬: 0,
    Ø§Ø³ØªÙ‚Ø±Ø§Ø±: 0
  },
  accuracyHistory: [],
  predictionsHistory: [],
  bigRoadData: [],
  learningData: {
    mistakePatterns: [],
    successRates: {},
    adaptiveWeights: { frequency: 0.4, pattern: 0.3, streak: 0.2, external: 0.1 },
    confidenceThresholds: { low: 45, medium: 60, high: 75 },
    performanceHistory: []
  }
};

const el = id => document.getElementById(id);

function init() {
  // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ø¹Ù†Ø§ØµØ±
  el('windowSize').value = state.windowSize;
  
  // Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø£Ø­Ø¯Ø§Ø« - Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† Ø£Ù† Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø²Ø±Ø§Ø± ØªØ¹Ù…Ù„
  el('applyWindow').addEventListener('click', () => {
    const v = Number(el('windowSize').value);
    if (v < 3 || v > 15) {
      alert('Ø§Ù„Ù†Ø§ÙØ°Ø© ÙŠØ¬Ø¨ Ø£Ù† ØªÙƒÙˆÙ† Ø¨ÙŠÙ† 3 Ùˆ 15');
      return;
    }
    state.windowSize = v;
    state.adaptiveWindow = false;
    updateAll();
    showMessage('ØªÙ… ØªØ­Ø¯ÙŠØ« Ù†Ø§ÙØ°Ø© Ø§Ù„ØªØ­Ù„ÙŠÙ„ Ø¥Ù„Ù‰ ' + v);
  });

  el('btnP').addEventListener('click', () => pushRound('P'));
  el('btnB').addEventListener('click', () => pushRound('B'));
  el('btnT').addEventListener('click', () => pushRound('T'));
  el('btnUndo').addEventListener('click', undoRound);
  el('btnReset').addEventListener('click', resetAll);
  
  el('btnAutoAdjust').addEventListener('click', () => {
    state.adaptiveWindow = true;
    showMessage('ØªÙ… ØªÙØ¹ÙŠÙ„ Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„ØªÙƒÙŠÙÙŠ Ø§Ù„Ø°ÙƒÙŠ');
  });
  
  el('btnManualMode').addEventListener('click', () => {
    state.adaptiveWindow = false;
    showMessage('ØªÙ… ØªÙØ¹ÙŠÙ„ Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„ÙŠØ¯ÙˆÙŠ');
  });

  el('themeToggle').addEventListener('click', toggleTheme);
  
  // ØªØ¹ÙŠÙŠÙ† Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ
  document.documentElement.setAttribute('data-theme', 'dark');
  
  updateAll();
  showMessage('Ù…Ø±Ø­Ø¨Ø§Ù‹! Ø§Ø¨Ø¯Ø£ Ø¨Ø¥Ø¯Ø®Ø§Ù„ Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ø¬ÙˆÙ„Ø§Øª');
}

function toggleTheme() {
  const currentTheme = document.documentElement.getAttribute('data-theme');
  const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
  document.documentElement.setAttribute('data-theme', newTheme);
  el('themeToggle').textContent = 
